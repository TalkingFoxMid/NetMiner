Задача протокола:

Автоматическое отключение дублирующий соединений
в Ethernet
Связующее дерево – подграф без циклов, содержащий
все вершины исходного графа.

Этапы работы протокола:

1) Выбор корневого коммутатора.

2) Определение кратчайших путей до корневого коммутатора.

3) Отключение всех остальных соединений.

Bridge Protocol Data Units (BPDU) (отправляет своё ID, у кого меньше, тот становится корневым.)
Отправляются каждые 2 секунды
Рассылаются на групповой адрес STP
• 01:80:C2:00:00:00

Режимы работы портов коммутатора:

Listening – не передает данные, но реагирует на BPDU запросы
Learning – не передаёт кадры, но формирует таблицу коммутации, принимая пакеты
Forwarding – отправляет BPDU и кадры
Blocking – порт заблокирован, чтобы избежать цикла
Disabled – порт выключен в ручную

RSTP — срабатывает быстрее при подключении нового оборудования (у классического на это уходило 30 секунд).

MSTP — multiple spaning tree protocol, отдельное связующее дерево для каждого VLAN